---
title: "Dart 3 compatible ã¨ã¯ãªã‚“ã ã‚ã†"
emoji: "ðŸ˜º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [flutter, dart]
published: true
---

## Dart 3 compatible

![](https://storage.googleapis.com/zenn-user-upload/a28c2681270c-20230811.png)

## çµŒç·¯

Flutter 2.7.x ã§ä½œã£ã¦ã„ãŸã‚¢ãƒ—ãƒªã‚’ã€ 3.10.x ã¤ã¾ã‚Š Dart3 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ãŸã€‚
çµæ§‹ãªæ•°ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸãŒã€pub.dev ã§ã¯ã€å…¨ã¦ Dart 3 compatible ã§ã—ãŸã€‚
æ°—è»½ã« pub upgrade, pub upgrade --major-versions ã§ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã—ã‚ˆã†ã¨ã—ãŸã®ã§ã™ãŒã€
ä¾å­˜é–¢ä¿‚ã§ãƒˆãƒ©ãƒ–ã£ã¦ã„ãŸã®ã§ã€ Dart 3 compatible ã¨ã¯ä½•ã‹èª¿ã¹ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚

## çµè«–

ä¸‹è¨˜ã«è¨˜è¼‰ãŒã‚ã‚Šã¾ã—ãŸã€‚
https://dart.dev/resources/dart-3-migration#dart-3-backwards-compatibility

> Dartâ€™s pub tool allows resolution even when the upper bound is limited to versions below 3.0.0. For example, a package with the following constraint will be allowed to resolve with a Dart 3.x SDK, as pub will re-interpret the upper-constraint <3.0.0 as <4.0.0 when the lower constraint is 2.12 or higher:

```yaml
environment:
  sdk: '>=2.14.0 <3.0.0'           # This is interpreted as '>=2.14.0 <4.0.0'
```
ã¤ã¾ã‚Š Null Safety ãª 2.12 ä»¥ä¸Šã‚’å¯¾è±¡ã¨ã—ã¦ã„ã‚Œã°ã€ pubspec.yaml ã®ä¸Šé™sdkæŒ‡å®šãŒ 3.0.0 æœªæº€ ã§ã‚ã£ã¦ã‚‚ã€4.0.0æœªæº€ ã¨ã—ã¦è§£é‡ˆã™ã‚‹ã‚ˆã†ã€‚
ã¦ã£ãã‚Šã€`>=3.0.0 <4.0.0` æŒ‡å®šã—ãŸã‚‚ã®ãŒå¯¾è±¡ã ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚

ä»¥å‰ã€ã€ŒNull safetyã€ã®ãƒ©ãƒ™ãƒ«ãŒã¤ã„ã¦ã„ãŸã‚‚ã®ãŒã€ ã€ŒDart 3 compatibleã€ã«å¤‰ã‚ã£ãŸã®ã‹ãªã€‚

## Flutter 3.7.12ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

Flutter 3.7.12 ã§æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ãŸæ™‚ã® pubspec.yaml

* version
```shell
Flutter 3.7.12 â€¢ channel stable â€¢ https://github.com/flutter/flutter.git
Tools â€¢ Dart 2.19.6 â€¢ DevTools 2.20.1
```

* pubspec.yaml
```
environment:
  sdk: '>=2.19.6 <3.0.0'
```

## Flutter 3.10.0 ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

Flutter 3.10.0 ã§æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã£ãŸæ™‚ã® pubspec.yaml

* version
```shell
Flutter 3.10.0 â€¢ channel stable â€¢ https://github.com/flutter/flutter.git
Tools â€¢ Dart 3.0.0 â€¢ DevTools 2.23.1
```

* pubspec.yaml
```
environment:
  sdk: '>=3.0.0 <4.0.0'
```

:::message
ã‚¢ãƒ—ãƒª(åˆ©ç”¨å´)ãŒ ä¸‹é™ SDK 3ä»¥ä¸Š ã§ã‚‚ã€ ä¸Šé™ SDK3 æœªæº€ ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã§ãã¦ã„ã‚‹ã€‚
:::

Dart3.0 ã¯ null-safty ã»ã©ã®ç ´å£Šçš„å¤‰æ›´ãŒãªãã€è‰¯ãã‚ˆã†ã«è§£é‡ˆã—ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚

## èµ·ãã¦ã„ãŸãƒˆãƒ©ãƒ–ãƒ«

`Dart 3 compatible`ã§ã¯ã‚ã£ãŸã‚‚ã®ã®ã€ç¾åœ¨ã¯`DISCONTINUED`ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã—ã¦ãŠã‚Šã€
ã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã€`intl:0.18.x`ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚
ä¸€æ–¹ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸä»–ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã€`intl 0.18.0 ä»¥ä¸Š`ã‚’å¿…è¦ã¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€ãã¡ã‚‰ã¨ã®ä¾å­˜é–¢ä¿‚ã§ã‚¨ãƒ©ãƒ¼ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚
ã²ã¨ã¾ãš `intl 0.18.0 ä»¥ä¸Š`ã‚’å¿…è¦ã¨ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã‚‹ã“ã¨ã«ã€‚

ãƒžã‚¤ãƒŠãƒ¼ã°ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã¯äº’æ›æ€§ãŒã‚ã‚‹ ã¨å‹æ‰‹ã«æƒ³åƒã—ã¦ã„ãŸã‚‚ã®ã®ã€`amplify-flutter`ã§ã‚‚
`intl 0.18.0 ä»¥ä¸Š`ã®æŒ‡å®šãŒã£ãŸã®ã§ã€intl ã® 0.17 ã¨ 0.18 ã«äº’æ›æ€§ãŒç„¡ã•ãã†ã§ã™ã­ã€‚

## ã¾ã¨ã‚
- `Dart 3 compatible`ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã€Dart3.0 ãƒªãƒªãƒ¼ã‚¹æ™‚ã«ä¸€åº¦ã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ãŠã‚Šã€
æœ€è¿‘ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³åŒå£«ã§ã‚ã‚‹ç¨‹åº¦ã€äº’æ›æ€§ãŒã‚ã‚‹ã®ã‹ãªã¨æ€ã„ã¾ã—ãŸãŒã€ãã†ã„ã†è¨³ã§ã¯ãªã„ã‚ˆã†ã§ã—ãŸã€‚
- ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã®ç ´å£Šçš„å¤‰æ›´ã¯ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®è‰¯ã„å‚è€ƒã«ãªã‚Šãã†ã§ã™ã€‚